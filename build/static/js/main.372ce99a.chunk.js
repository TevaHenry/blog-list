(this["webpackJsonpbloglist-frontend"]=this["webpackJsonpbloglist-frontend"]||[]).push([[0],{48:function(n,e,t){n.exports=t(76)},75:function(n,e,t){},76:function(n,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),i=t(20),o=t.n(i),c=t(12),u=t(18),l=t(40),s=t(41),d=t(3),f=t.n(d),p=t(21),m=t(8),g=t.n(m),b="/api/blogs",h=null,v=function(){var n;return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.awrap(g.a.get(b));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}))},x=function(n){var e,t;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e={headers:{Authorization:h}},a.next=3,f.a.awrap(g.a.post(b,n,e));case 3:return t=a.sent,a.abrupt("return",t.data);case 5:case"end":return a.stop()}}))},w=function(n){var e,t;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e={headers:{Authorization:h}},a.next=3,f.a.awrap(g.a.put("".concat(b,"/").concat(n.id),n,e));case 3:return t=a.sent,a.abrupt("return",t.data);case 5:case"end":return a.stop()}}))},y=function(n){var e,t;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e={headers:{Authorization:h}},a.next=3,f.a.awrap(g.a.delete("".concat(b,"/").concat(n),e));case 3:return t=a.sent,a.abrupt("return",t.data);case 5:case"end":return a.stop()}}))},E=function(n){h="bearer ".concat(n)},j=function(n){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(g.a.get("".concat(b,"/").concat(n,"/comments")));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}))},O=function(n,e){var t;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.a.awrap(g.a.post("".concat(b,"/").concat(n,"/comments"),{content:e}));case 2:return t=a.sent,a.abrupt("return",t.data);case 4:case"end":return a.stop()}}))},F=function(n){return function(e){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(y(n));case 2:e({type:"REMOVE",data:{id:n}});case 3:case"end":return t.stop()}}))}},k=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"INIT_BLOGS":return e.data;case"ADD":return[].concat(Object(p.a)(n),[e.data]);case"UPDATE":return n.map((function(n){return n.id===e.data.id?e.data:n}));case"REMOVE":return n.filter((function(n){return n.id!==e.data.id}));default:return n}},C=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"LOGIN":return e.data;case"LOGOUT":return null;default:return n}},z=function(){var n;return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.awrap(g.a.get("/api/users"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}))},A=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"INIT_USERS":return e.data;default:return n}},S=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[null,null],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET":return[e.data.message,e.data.status];case"CLEAR":return[null,null];default:return n}},L=Object(u.combineReducers)({blogs:k,user:C,notification:S,users:A}),U=Object(u.createStore)(L,Object(s.composeWithDevTools)(Object(u.applyMiddleware)(l.a))),I=t(45),B=t(11),N=t(16),D=function(n){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(g.a.post("/api/login",n));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}))},R=function(n){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(g.a.post("/api/users",n));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}))},T=t(15),G=function(n){var e=Object(a.useState)(""),t=Object(T.a)(e,2),r=t[0],i=t[1];return{intputAttributes:{type:n,value:r,onChange:function(n){i(n.target.value)}},reset:function(){i("")}}},J=t(1),V=t(2);function _(){var n=Object(J.a)(["\n  height: 80%;\n  overflow: scroll;\n  padding: 10px;\n\n  li {\n    margin-bottom: 8px;\n  }\n"]);return _=function(){return n},n}function M(){var n=Object(J.a)(["\n  width: 85%;\n  /* display: flex;\n  justify-content: space-between; */\n\n  button {\n    border-radius: 3px;\n  }\n"]);return M=function(){return n},n}function X(){var n=Object(J.a)(["\n  background: #FF6F3C;\n  border-radius: 6px;\n  /* width: 25%; */\n  width: 95%;\n  height: 46%;\n  padding: 5px;\n  margin: 2% 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  h3 {\n    color: #FFC93C;\n  }\n\n  @media screen and (min-width: 750px) {\n    width: 30%;\n    height: 95%;\n  }\n"]);return X=function(){return n},n}function P(){var n=Object(J.a)(["\n  height: 50%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  font-size: 1em;\n\n  a {\n    text-decoration: none;\n  }\n\n  button {\n    background: #FF6F3C;\n    color: white;\n    border-radius: 3px;\n  }\n"]);return P=function(){return n},n}function W(){var n=Object(J.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 0.7em;\n\n  h2 {\n    color: whitesmoke;\n    /* letter-spacing: 1.2px; */\n  }\n\n  h3 {\n    color: #FF6F3C;\n  }\n\n  button {\n    margin-right: 20px;\n    padding: 10px;\n    background: red;\n    color: white;\n    border-radius: 4px;\n  }\n\n  @media screen and (min-width: 768px) {\n    font-size: 1em;\n  }\n"]);return W=function(){return n},n}function Y(){var n=Object(J.a)(["\n  background: #155263;\n  border-radius: 6px;\n  padding: 5px;\n  width: 95%;\n  height: 46%;\n  margin: 2% 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  @media screen and (min-width: 750px) {\n    width: 65%;\n    height: 95%;\n  }\n"]);return Y=function(){return n},n}function H(){var n=Object(J.a)(["\n  background: whitesmoke;\n  width: 85%;\n  height: 85%;\n  margin: auto;\n  border-radius: 6px;\n  opacity: 0.9;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n\n  button {\n    font-size: 0.7em;\n    border-radius: 10px;\n  }\n\n  input {\n    font-size: 0.9em;\n  }\n\n  @media screen and (min-width: 750px) {\n    flex-direction: row;\n  }\n\n  @media screen and (min-width: 1024px) {\n    font-size: calc(0.7em + 1.3vw);\n  }\n"]);return H=function(){return n},n}var q=V.a.div(H()),K=V.a.div(Y()),Q=V.a.div(W()),Z=V.a.div(P()),$=V.a.div(X()),nn=V.a.form(M()),en=V.a.ul(_()),tn={removeBlog:F},an=Object(c.b)((function(n,e){return{blog:e.blog,handleUpdate:e.handleUpdate,user:n.user,notify:e.notify}}),tn)(Object(N.f)((function(n){var e=Object(a.useState)([]),t=Object(T.a)(e,2),i=t[0],o=t[1],c=G("text");Object(a.useEffect)((function(){n.blog&&j(n.blog.id).then((function(n){return o(n)}))}),[n.blog]);return void 0===n.blog?null:r.a.createElement(q,null,r.a.createElement(K,null,r.a.createElement(Q,null,r.a.createElement("div",null,r.a.createElement("h2",null,n.blog.title),r.a.createElement("h3",null,"written by ".concat(n.blog.author))),n.user&&n.user.name===n.blog.user.name&&r.a.createElement("button",{onClick:function(e){return function(e,t){var a=t.title,r=t.author,i=t.id;if(e.preventDefault(),window.confirm("remove blog ".concat(a," by ").concat(r)))try{n.removeBlog(i),n.history.push("/")}catch(o){console.log(o)}}(e,n.blog)}},"remove")),r.a.createElement(Z,null,r.a.createElement("a",{href:n.blog.url},"go to site"),r.a.createElement("p",null,n.blog.likes," likes ",r.a.createElement("button",{onClick:function(e){return n.handleUpdate(e,n.blog.id)},"data-cy":"like"},"like")),r.a.createElement("p",null,"added by ",n.blog.user.name))),r.a.createElement($,null,r.a.createElement("h3",null,"comments"),r.a.createElement(nn,{onSubmit:function(e){!function(e,t){var a,r,c;f.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return a=t.comment,r=t.blog,e.preventDefault(),u.prev=2,u.next=5,f.a.awrap(O(r.id,a));case 5:c=u.sent,o([c].concat(Object(p.a)(i))),n.notify("commented on '".concat(r.title,"'"),"success"),u.next=14;break;case 10:u.prev=10,u.t0=u.catch(2),console.log(u.t0),n.notify("couldn't comment","error");case 14:case"end":return u.stop()}}),null,null,[[2,10]])}(e,{comment:c.intputAttributes.value,blog:n.blog}),c.reset()}},r.a.createElement("input",c.intputAttributes),r.a.createElement("button",{type:"submit"},"comment")),r.a.createElement(en,null,i.reverse().map((function(n){return r.a.createElement("li",{key:n.id},n.content)})))))})));function rn(){var n=Object(J.a)(["\n  width: 70vw;\n  background: white;\n  padding: 1.5vmin 1.5vmin;\n  margin-bottom: 1.5vmin;\n  border-radius: 6px;\n  opacity: 0.9;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  color: #155263;\n  letter-spacing: 1.5px;\n  font-weight: 600px;\n\n\n  span {\n    font-size: 0.8em;\n    color: #FF9A3C;\n  }\n\n  @media screen and (min-width: 750px) {\n    width: 50vw;\n  }\n\n  /* @media screen and (min-width: 1024px) {\n    font-size: 1em;\n  } */\n"]);return rn=function(){return n},n}var on=V.a.div(rn()),cn=function(n){var e=n.blog;return r.a.createElement(on,{className:"blog"},r.a.createElement("h3",null,e.title),r.a.createElement("span",null,"written by ",e.author))};function un(){var n=Object(J.a)(["\n  text-decoration: none;\n  border-radius: 4px;\n  display: flex;\n\n  &:focus {\n    margin-left: 10px;\n  }\n\n  &:hover {\n    margin-left: 10px;  \n  }\n"]);return un=function(){return n},n}function ln(){var n=Object(J.a)(["\n  height: 80%;\n  list-style-type: none;\n  overflow: scroll;\n  padding-left: 0;\n"]);return ln=function(){return n},n}function sn(){var n=Object(J.a)(["\n  height: 70%;\n  width: 80%;\n  padding: 10px 0;\n  display: flex;\n  margin: auto;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  color: #155263;\n  \n  h4 {\n    font-size: 2em;\n    font-weight: 600; \n    margin-bottom: 1.5vmin;\n  }\n\n  @media screen and (min-width: 1024px) {\n    font-size: calc(0.6em + 1vw);\n  }\n\n  @media screen and (min-width: 1500px) {\n    font-size: calc(1em + 1.3vw);\n  }\n"]);return sn=function(){return n},n}var dn=V.a.div(sn()),fn=V.a.ul(ln()),pn=Object(V.a)(B.b)(un()),mn=Object(c.b)((function(n){return{blogs:n.blogs}}))((function(n){return r.a.createElement(dn,null,r.a.createElement("h4",null,"Top blogs"),r.a.createElement(fn,null,n.blogs.sort((function(n,e){return e.likes-n.likes})).map((function(n){return r.a.createElement(pn,{key:n.id,to:"/api/blogs/".concat(n.id),"data-cy":"blog-link"},r.a.createElement(cn,{className:"blog",blog:n}))}))))}));function gn(){var n=Object(J.a)(["\n  padding-right: 5px;\n\n  input {\n    font-size: 0.6em;\n  }\n"]);return gn=function(){return n},n}function bn(){var n=Object(J.a)(["\n  color: #FF9A3C;\n\n  button {\n    font-size: 1em;\n  }\n"]);return bn=function(){return n},n}function hn(){var n=Object(J.a)(["\n  color: #FF6F3C;\n  \n  @media screen and (min-width: 1024px) {\n    font-size: calc(0.2em + 1.4vw);\n  }\n\n  @media screen and (min-width: 1500px) {\n    font-size: calc(0.2em + 1.6vw);\n  }\n"]);return hn=function(){return n},n}var vn=V.a.div(hn()),xn=V.a.form(bn()),wn=V.a.div(gn()),yn=function(n){var e=n.onSubmit,t=G("text"),a=G("text"),i=G("text");return r.a.createElement(vn,null,r.a.createElement("h2",null,"create new"),r.a.createElement(xn,{onSubmit:function(n){e(n,{title:t.intputAttributes.value,author:a.intputAttributes.value,url:i.intputAttributes.value}),t.reset(),a.reset(),i.reset()}},r.a.createElement(wn,null,r.a.createElement("p",null,"title: ",r.a.createElement("input",Object.assign({"data-cy":"blog-title"},t.intputAttributes)))),r.a.createElement(wn,null,r.a.createElement("p",null,"author: ",r.a.createElement("input",Object.assign({"data-cy":"blog-author"},a.intputAttributes)))),r.a.createElement(wn,null,r.a.createElement("p",null,"url: ",r.a.createElement("input",Object.assign({"data-cy":"blog-url"},i.intputAttributes)))),r.a.createElement("button",{type:"submit","data-cy":"blog-submit"},"create")))};function En(){var n=Object(J.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n\n  p {\n    color: #FF6F3C;\n  }\n\n  span {\n    display: none;\n    color: black;\n  }\n\n  button {\n    background: #FF6F3C;\n    border-radius: 3px;\n    color: white;\n    align-self: flex-end;\n\n    @media screen and (min-width: 1024px) {\n      font-size: 0.7em;\n    }\n  }\n\n  @media screen and (min-width: 750px) {\n    span {\n      display: initial;\n    }\n  }\n\n  \n"]);return En=function(){return n},n}function jn(){var n=Object(J.a)(["\n  background: linear-gradient(40deg, #155263 9%, #155263 43%, #FF6F3C calc(43% + 1px), #FF6F3C 52%, #FF9A3C calc(52% + 1px), #FF9A3C 80%, #FFC93C calc(80% + 1px), #FFC93C 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  outline: none;\n  text-decoration: none;\n  padding: 2px 1px 0;\n  font-size: 2em;\n  font-weight: 900;\n\n  &:focus {\n    border-bottom: 3px solid #FF9A3C;\n  }\n\n  &:hover {\n    border-bottom: 3px solid #FF9A3C;   \n  }\n"]);return jn=function(){return n},n}function On(){var n=Object(J.a)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n"]);return On=function(){return n},n}var Fn=V.a.div(On()),kn=Object(V.a)(B.b)(jn()),Cn=V.a.div(En()),zn=function(n){var e=n.user,t=n.handleLogout;return r.a.createElement(Fn,null,r.a.createElement(kn,{to:"/"},"Blogs"),r.a.createElement(kn,{to:"/api/users"},"Users"),e?r.a.createElement(Cn,null,r.a.createElement("p",null,e.name," ",r.a.createElement("span",null,"is logged in")),r.a.createElement("button",{onClick:t},"Logout")):r.a.createElement(kn,{to:"/api/auth"},"Login"))},An=function(n){var e=n.message,t=n.status;return r.a.createElement(r.a.Fragment,null,null===e?null:r.a.createElement("div",{className:t},e))};function Sn(){var n=Object(J.a)(["\n  height: 10vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n\n  .success {\n    color: rgb(30, 87, 25);\n    background: rgb(235, 233, 233);\n    font-size: 20px;\n    border-style: solid;\n    border-radius: 5px;\n    padding: 10px;\n    margin-bottom: 10px;\n    position: absolute;\n    top: 12vh;\n    z-index: 5;\n  }\n\n  .error {\n    color: rgb(179, 35, 25);\n    background: rgb(235, 233, 233);\n    font-size: 20px;\n    border-style: solid;\n    border-radius: 5px;\n    padding: 10px;\n    margin-bottom: 10px;\n    position: absolute;\n    top: 12vh;\n    z-index: 5;\n  }\n\n  @media screen and (min-width: 1024px) {\n    font-size: calc(0.8em + 1vw);\n  }\n"]);return Sn=function(){return n},n}var Ln=V.a.div(Sn()),Un=Object(c.b)((function(n,e){return{notification:n.notification,handleLogin:e.handleLogin,handleLogout:e.handleLogout,handleRegister:e.handleRegister}}))((function(n){return r.a.createElement(Ln,null,r.a.createElement(zn,{user:n.user,handleLogin:n.handleLogin,handleLogout:n.handleLogout,handleRegister:n.handleRegister}),r.a.createElement(An,{message:n.notification[0],status:n.notification[1]}))}));function In(){var n=Object(J.a)(["\n  width: 60%;\n  display: flex;\n  align-items: center;\n  text-align: center;\n\n  &:before {\n    content: '';\n    flex: 1;\n    border-bottom: 1px solid black;\n    margin-right: .25em;\n  }\n\n  &:after {\n    content: '';\n    flex: 1;\n    border-bottom: 1px solid black;\n    margin-left: .25em;\n  }\n"]);return In=function(){return n},n}function Bn(){var n=Object(J.a)(["\n  height: 40%;\n  width: 70%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n"]);return Bn=function(){return n},n}function Nn(){var n=Object(J.a)(["\n  display: flex;\n  justify-content: space-evenly;\n  padding-right: 5px;\n\n  input {\n    font-size: 0.7em;\n  }\n"]);return Nn=function(){return n},n}function Dn(){var n=Object(J.a)(["\n  height: 35%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: flex-end;\n\n  @media screen and (min-width: 750px) {\n    transform: translateX(-10%);\n  }\n"]);return Dn=function(){return n},n}function Rn(){var n=Object(J.a)(["\n  height: 90%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  color: #FF9A3C;\n\n  button {\n    background: #FF6F3C;\n    border-radius: 3px;\n    padding: 5px;\n    color: white;\n    font-size: 1em;\n  }\n"]);return Rn=function(){return n},n}function Tn(){var n=Object(J.a)(["\n  height: 70%;\n  width: 70%;\n  background: #155263;\n  color: #FF6F3C;\n  padding: 5px;\n  box-shadow: 3px 3px 4px rgba(0,0,0,0.15);\n  border: 5px solid #fff;\n  border-radius: 6px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  font-size: calc(0.6em + 1.6vw);\n\n  h3 {\n    align-self: center;\n    margin-top: 5vh;\n  }\n"]);return Tn=function(){return n},n}var Gn=V.a.div(Tn()),Jn=V.a.form(Rn()),Vn=V.a.div(Dn()),_n=V.a.div(Nn()),Mn=V.a.div(Bn()),Xn=V.a.div(In()),Pn=function(n){var e=n.onSignIn,t=n.onSignUp,i=G("text"),o=G("text"),c=G("password"),u=Object(a.useState)(!1),l=Object(T.a)(u,2),s=l[0],d=l[1];return r.a.createElement(Gn,{auth:s},r.a.createElement("h3",null,s?"Register":"Log in to application"),r.a.createElement(Jn,{onSubmit:s?function(n){t(n,{name:o.intputAttributes.value,username:i.intputAttributes.value,password:c.intputAttributes.value}),o.reset(),i.reset(),c.reset()}:function(n){e(n,{username:i.intputAttributes.value,password:c.intputAttributes.value}),i.reset(),c.reset()}},r.a.createElement(Vn,null,s&&r.a.createElement(_n,null,r.a.createElement("p",null,"name: ",r.a.createElement("input",Object.assign({"data-cy":"name"},o.intputAttributes)))),r.a.createElement(_n,null,r.a.createElement("p",null,"username: ",r.a.createElement("input",Object.assign({"data-cy":"username"},i.intputAttributes)))),r.a.createElement(_n,null,r.a.createElement("p",null,"password: ",r.a.createElement("input",Object.assign({"data-cy":"password"},c.intputAttributes))))),r.a.createElement(Mn,null,r.a.createElement("button",{type:"submit"},s?"Sign Up":"Sign In"),r.a.createElement(Xn,null,"or"),r.a.createElement("button",{type:"button",onClick:function(n){n.preventDefault(),d((function(n){return!n}))}},s?"Sign In":"Sign Up"))))};function Wn(){var n=Object(J.a)(["\n  height: 80vh;\n  background: linear-gradient(40deg, #155263 9%, #155263 43%, #FF6F3C calc(43% + 1px), #FF6F3C 52%, #FF9A3C calc(52% + 1px), #FF9A3C 80%, #FFC93C calc(80% + 1px), #FFC93C 100%);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return Wn=function(){return n},n}var Yn=V.a.div(Wn()),Hn=function(n){return r.a.createElement(Yn,null,n.children)};function qn(){var n=Object(J.a)(["\n  height: 10vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  @media screen and (min-width: 1024px) {\n    font-size: calc(0.7em + 1vw);\n  }\n"]);return qn=function(){return n},n}var Kn=V.a.div(qn()),Qn=function(n){return r.a.createElement(Kn,null,r.a.createElement("p",null,"this app was developed by following the exercises in the ",r.a.createElement("a",{href:"https://fullstackopen.com/en/"},"fullstackopen")," course"))};function Zn(){var n=Object(J.a)(["\n  background: #FF6F3C;\n  width: 15vh;\n  height: 8vh;\n  border-radius: 10px;\n  cursor: pointer;\n  font-size: 3vmin;\n  font-weight: 700;\n  letter-spacing: 1.3px;\n  color: whitesmoke;\n  margin-top: 5vh;\n"]);return Zn=function(){return n},n}function $n(){var n=Object(J.a)(["\n  height: 25%;\n  transform: translateY(-5vh);\n  transition: transform 0.3s ease-out;\n\n  button {\n    font-size: 1em;\n  }\n\n  @media screen and (min-width: 750px) {\n   transform: translateY(-5vh) translateX(-20vh);\n  }\n\n  @media screen and (min-width: 1400px) {\n    transform: translateX(-10vh);\n    font-size: calc(0.2em + 1.6vw);\n  }\n"]);return $n=function(){return n},n}var ne=V.a.div($n()),ee=V.a.button(Zn()),te=Object(a.forwardRef)((function(n,e){var t=Object(a.useState)(!1),i=Object(T.a)(t,2),o=i[0],c=i[1],u={display:o?"none":""},l={display:o?"":"none"},s=function(){c(!o)};return Object(a.useImperativeHandle)(e,(function(){return{toggleVisibility:s}})),r.a.createElement(ne,{style:{marginTop:40,marginLeft:25}},r.a.createElement("div",{style:u},r.a.createElement(ee,{onClick:s},n.buttonLabel)),r.a.createElement("div",{style:l},n.children,r.a.createElement("button",{onClick:s},"cancel")))}));function ae(){var n=Object(J.a)(["\n  width: 100%;\n  text-decoration: none;\n  color: #FF6F3C;\n  padding: 10px 15px;\n  margin-bottom: 10px;\n  background: #155263;\n  border-radius: 4px;\n  display: flex;\n  justify-content: space-between;\n\n  span {\n    color: #FFC93C;\n  }\n\n  &:hover {\n    margin-left: 10px;\n  }\n\n  &:focus {\n    margin-left: 10px;\n  }\n"]);return ae=function(){return n},n}function re(){var n=Object(J.a)(["\n  width: 70%;\n  height: 80%;\n  list-style-type: none;\n  overflow: scroll;\n  padding-left: 0;\n"]);return re=function(){return n},n}function ie(){var n=Object(J.a)(["\n  width: 80%;\n  height: 70%;\n  background: whitesmoke;\n  opacity: 0.9;\n  border-radius: 6px;\n  padding: 10px;\n  margin: auto;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  color: #155263;\n  font-size: calc(0.6em + 1.3vw);\n\n  @media screen and (min-width: 750px) {\n    width: 40%;\n    height: 60%;\n  }\n  \n"]);return ie=function(){return n},n}var oe=V.a.div(ie()),ce=V.a.ul(re()),ue=Object(V.a)(B.b)(ae()),le=function(n){var e=n.users;return r.a.createElement(oe,null,r.a.createElement("h1",null,"Users"),r.a.createElement(ce,null,e.sort((function(n,e){return e.blogs.length-n.blogs.length})).map((function(n){return r.a.createElement(ue,{key:n.id,to:"/api/users/".concat(n.id)},n.name," ",r.a.createElement("span",null,"(",n.blogs.length," posts)"))}))))};function se(){var n=Object(J.a)(["\n  align-self: center;\n  width: 90%;\n  padding: 5px;\n  border-radius: 3px;\n  background: #155263;\n  color: #FFC93C;\n\n  &:hover {\n    margin-left: 10px;\n  }\n\n  &:focus {\n    margin-left: 10px;\n  }\n"]);return se=function(){return n},n}function de(){var n=Object(J.a)(["\n  height: 60%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n"]);return de=function(){return n},n}function fe(){var n=Object(J.a)(["\n  width: 50vw;\n  height: 60vh;\n  margin: auto;\n  padding: 20px;\n  background: whitesmoke;\n  opacity: 0.9;\n  border-radius: 6px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n\n  h1 {\n    align-self: center;\n    color: #155263;\n  }\n\n  p {\n    color: #FF6F3C;\n  }\n"]);return fe=function(){return n},n}var pe=V.a.div(fe()),me=V.a.div(de()),ge=Object(V.a)(B.b)(se()),be=function(n){var e=n.user,t=n.blogs;return void 0===e?null:r.a.createElement(pe,null,r.a.createElement("h1",null,e.name),r.a.createElement("p",null,r.a.createElement("strong",null,"added blogs")),r.a.createElement(me,null,t.map((function(n){return r.a.createElement(ge,{key:n.id,to:"/api/blogs/".concat(n.id)},n.title)}))))},he=(t(75),{initializeBlogs:function(){return function(n){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(v());case 2:e=t.sent,n({type:"INIT_BLOGS",data:e});case 4:case"end":return t.stop()}}))}},initializeUsers:function(){return function(n){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(z());case 2:e=t.sent,n({type:"INIT_USERS",data:e});case 4:case"end":return t.stop()}}))}},login:function(n){return{type:"LOGIN",data:n}},logout:function(){return{type:"LOGOUT"}},addBlog:function(n){return function(e){var t;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.a.awrap(x(n));case 2:t=a.sent,e({type:"ADD",data:t});case 4:case"end":return a.stop()}}))}},updateBlog:function(n){return function(e){var t;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.a.awrap(w(n));case 2:t=a.sent,e({type:"UPDATE",data:t});case 4:case"end":return a.stop()}}))}},removeBlog:F,setNotif:function(n,e){return{type:"SET",data:{message:n,status:e}}},clearNotif:function(){return{type:"CLEAR"}}}),ve=Object(c.b)((function(n){return{blogs:n.blogs,user:n.user,notification:n.notification,users:n.users}}),he)((function(n){var e=Object(a.createRef)();Object(a.useEffect)((function(){n.initializeBlogs(),n.initializeUsers()}),[]),Object(a.useEffect)((function(){var e=window.localStorage.getItem("loggedBlogListUser");if(e){var t=JSON.parse(e);n.login(t),E(t.token)}}),[]);var t=function(e,t){n.setNotif(e,t),setTimeout((function(){n.clearNotif()}),5e3)},i=function(a,r){a.preventDefault(),e.current.toggleVisibility();try{n.addBlog(r),n.initializeUsers(),t("a new blog ".concat(r.title," by ").concat(r.author," added"),"success")}catch(i){console.log(i),t("Unable to create","error")}},o=function(e,t){e.preventDefault();try{var a=n.blogs.find((function(n){return n.id===t}));console.log(a);var r=Object(I.a)({},a,{likes:a.likes+1});n.updateBlog(r)}catch(i){console.log(i)}};return r.a.createElement(B.a,null,r.a.createElement("div",null,r.a.createElement(Un,{user:n.user,handleLogout:function(e){e.preventDefault(),window.localStorage.removeItem("loggedBlogListUser"),n.logout()}}),r.a.createElement(Hn,null,r.a.createElement(N.b,{exact:!0,path:"/",render:function(){return r.a.createElement(a.Fragment,null,r.a.createElement(mn,null),r.a.createElement(te,{buttonLabel:"add blog",ref:e},r.a.createElement(yn,{onSubmit:i})))}}),r.a.createElement(N.b,{path:"/api/auth"},n.user?r.a.createElement(N.a,{to:"/"}):r.a.createElement(Pn,{onSignIn:function(e,a){var r;return f.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e.preventDefault(),i.prev=1,i.next=4,f.a.awrap(D(a));case 4:r=i.sent,window.localStorage.setItem("loggedBlogListUser",JSON.stringify(r)),E(r.token),n.login(r),i.next=14;break;case 10:i.prev=10,i.t0=i.catch(1),console.log(i.t0),t("Wrong username or password","error");case 14:case"end":return i.stop()}}),null,null,[[1,10]])},onSignUp:function(e,t){var a;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),r.prev=1,r.next=4,f.a.awrap(R(t));case 4:return n.initializeUsers(),r.next=7,f.a.awrap(D({username:t.username,password:t.password}));case 7:a=r.sent,window.localStorage.setItem("loggedBlogListUser",JSON.stringify(a)),E(a.token),n.login(a),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(1),console.log(r.t0);case 16:case"end":return r.stop()}}),null,null,[[1,13]])}})),r.a.createElement(N.b,{exact:!0,path:"/api/users",render:function(){return r.a.createElement(le,{users:n.users})}}),r.a.createElement(N.b,{path:"/api/users/:id",render:function(e){var t=e.match;return r.a.createElement(be,{user:n.users.find((function(n){return n.id===t.params.id})),blogs:n.blogs.filter((function(n){return n.user.id===t.params.id}))})}}),r.a.createElement(N.b,{path:"/api/blogs/:id",render:function(e){var a=e.match;return r.a.createElement(an,{blog:n.blogs.find((function(n){return n.id===a.params.id})),handleUpdate:o,notify:t})}})),r.a.createElement(Qn,null)))}));o.a.render(r.a.createElement(c.a,{store:U},r.a.createElement(ve,null)),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.372ce99a.chunk.js.map